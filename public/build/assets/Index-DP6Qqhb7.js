import{T as e,Q as t,r as a,o as s,D as l,w as r,a as o,u as i,Z as c,b as n,e as d,q as u,d as p,G as b,H as m,c as g,E as v,t as x,F as h,h as f,M as _}from"./app-DSTM3SJ3.js";import{_ as y}from"./Main-B6b0oP4E.js";import{_ as w}from"./PageHeader-BsnaedmG.js";import{_ as k,a as j}from"./PerPage-BVET7Bh5.js";import{_ as S}from"./Timestamp-CtxzEmuD.js";import{_ as z}from"./Sort-B1j3uqbD.js";import E from"./Filter-Bil1Bjnh.js";import I from"./Export-Dsv57fZl.js";import{e as P}from"./entity-DtHm6voh.js";import"./logo-light-fEv4Yehr.js";import"./sweetalert2.all-BaCSOYxu.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./Footer-Dv8wUYbi.js";import"./Modal-1mpmqj-q.js";const D={class:"card"},M={class:"card-header border-0"},F={class:"row g-4"},L={class:"col-sm-auto"},O=n("i",{class:"ri-filter-3-line label-icon align-middle fs-16 me-2"},null,-1),R=n("i",{class:"ri-upload-2-line label-icon align-middle fs-16"},null,-1),T={class:"col-sm"},C={class:"d-flex justify-content-sm-end"},G={class:"card-body p-0 border-2 border-top border-bottom"},H=["placeholder"],U=n("i",{class:"ri-search-line search-icon"},null,-1),$={class:"card-body pb-0"},q={class:"table-responsive table-card mb-0"},A={class:"table table-hover table-nowrap table-sm align-middle mb-0"},N={class:"table-light text-muted"},V=n("th",{width:"60",class:"text-center align-middle"},"#",-1),J=n("th",{class:"align-middle"},"Invoice Number",-1),Y=n("th",{class:"text-center"},"Invoice Status",-1),B={class:"text-center"},K={class:"text-center"},Q={class:"text-center"},W={class:"text-end"},X={class:"text-center"},Z={key:0,class:"badge bg-success rounded-pill text-capitalize"},ee={key:1,class:"badge bg-danger rounded-pill text-capitalize"},te={key:2,class:"badge bg-info rounded-pill text-capitalize"},ae={class:"text-center"},se={key:0,class:"badge bg-info rounded-pill text-capitalize"},le={key:1,class:"badge bg-success rounded-pill text-capitalize"},re={key:2,class:"badge bg-danger rounded-pill text-capitalize"},oe={class:"text-center date"},ie={class:"card-footer p-0"},ce={__name:"Index",props:["collection","filters"],setup(ce){const ne=P().page,de=[{text:"Dashboard",to:route("dashboard")},{text:"Transaction"},{text:ne.title},{text:"Oracle Line",active:!0}],ue=e({keyword:t().props.ziggy.query.keyword??null}),pe=a(!1),be=a(!1);return(e,t)=>{const a=f,P=_;return s(),l(y,null,{header:r((()=>[o(w,{title:"Report - Oracle Line (Staging)",breadcrumbs:de})])),default:r((()=>[o(i(c),{title:"Report - Oracle Line"}),n("div",D,[n("div",M,[n("div",F,[n("div",L,[o(P,null,{default:r((()=>[o(a,{variant:"primary",class:"btn-label waves-effect waves-light",onClick:t[0]||(t[0]=e=>pe.value=!0)},{default:r((()=>[O,d(" Filter ")])),_:1}),o(a,{variant:"success",class:"btn-label waves-effect waves-light right",onClick:t[1]||(t[1]=e=>be.value=!0)},{default:r((()=>[R,d(" Export ")])),_:1})])),_:1})]),n("div",T,[n("div",C,[o(P,null,{default:r((()=>[ce.collection.links.length>3?(s(),l(k,{key:0})):u("",!0)])),_:1})])])])]),n("div",G,[n("form",{onSubmit:t[3]||(t[3]=p((t=>i(ue).get(e.route(`${i(ne).module}.${i(ne).name}.oracle-line`))),["prevent"])),class:"search-box"},[b(n("input",{type:"search",class:"form-control search border-0 py-3",placeholder:`Search for ${i(ne).title} ...`,"onUpdate:modelValue":t[2]||(t[2]=e=>i(ue).keyword=e)},null,8,H),[[m,i(ue).keyword]]),U],32)]),n("div",$,[n("div",q,[n("table",A,[n("thead",N,[n("tr",null,[V,J,o(z,{label:"Dist",attribute:"dist_code_concat"}),o(z,{label:"Description",attribute:"description"}),o(z,{label:"PPN",attribute:"ppn_code",class:"text-center"}),o(z,{label:"Tax Rate",attribute:"tax_rate",class:"text-center"}),o(z,{label:"Amount",attribute:"amount",class:"text-end"}),Y,o(z,{label:"Status",attribute:"status",class:"text-center"}),o(z,{label:"Message",attribute:"error_message"}),o(z,{label:"Created At",attribute:"creation_date",class:"text-center"})])]),n("tbody",null,[(s(!0),g(h,null,v(ce.collection.data,((e,t)=>(s(),g("tr",{key:e.id},[n("td",B,x((ce.collection.current_page-1)*ce.collection.per_page+t+1),1),n("td",null,x(e.invoice?.trx_number),1),n("td",null,x(e.dist_code_concat),1),n("td",null,x(e.description),1),n("td",K,x(e.ppn_code),1),n("td",Q,x(e.tax_rate_id),1),n("td",W,x(e.amount.toLocaleString()),1),n("td",X,["S"==e.invoice?.status?(s(),g("span",Z,"posted")):"E"==e.invoice?.status||"G"==e.invoice?.status?(s(),g("span",ee,"error")):"I"==e.invoice?.status?(s(),g("span",te,"pending")):(s(),g(h,{key:3},[d(x(e.invoice?.status),1)],64))]),n("td",ae,["I"==e.invoice?.status?(s(),g("span",se,"pending")):u("",!0),"V"==e.status?(s(),g("span",le,"posted")):"E"==e.status?(s(),g("span",re,"error")):(s(),g(h,{key:3},[d(x(e.status),1)],64))]),n("td",null,x(e.error_message),1),n("td",oe,[o(S,{data:e.creation_date},null,8,["data"])])])))),128))])])])]),n("div",ie,[o(j,{data:ce.collection},null,8,["data"])])]),o(E,{show:pe.value,"onUpdate:show":t[4]||(t[4]=e=>pe.value=e)},null,8,["show"]),o(I,{show:be.value,"onUpdate:show":t[5]||(t[5]=e=>be.value=e)},null,8,["show"])])),_:1})}}};export{ce as default};

import{r as e,x as t,y as a,z as o,o as n,c as l,a as s,B as r}from"./app-C9OX3ezV.js";import{s as i}from"./service-BxplQAEh.js";const c={class:"w-full"},p={__name:"DocumentStatus",setup(p){const u=e(),d=async()=>{const e=b.value.chart;e.showLoading("Loading ..."),u.value=await i.fetchData("chart","invoice-status"),e.update({series:[{data:r(u.value)}],plotOptions:{pie:{colors:f(m,r(u.value))}}}),e.hideLoading()};t((()=>{d()}));const m=[{name:"draft",color:"#e2e8f0"},{name:"published",color:"#3577f1"},{name:"closed",color:"#22c55e"},{name:"void",color:"#ef4444"}],f=(e,t)=>t.map((t=>{const a=e.find((e=>e.name===t.name));return a?a.color:null})).filter((e=>null!==e)),b=e(null),v=e({title:{text:"Invoice Status",align:"center"},chart:{type:"pie",events:{}},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b> <small>({point.y})</small>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",borderRadius:5,dataLabels:{enabled:!0,format:"<b>{point.name}</b><br>{point.percentage:.1f} %<br><small>({point.y})</small>",distance:-50,filter:{property:"percentage",operator:">",value:4}},point:{events:{click:function(){a.get(route("ppcr.proposals.index",{filter:{approval_status:[this.name]}}))}}}}},exporting:{buttons:{refreshButton:{symbol:"url(https://api.iconify.design/ic/baseline-refresh.svg?color=%23666)",symbolSize:24,symbolX:27,symbolY:27,x:0,align:"right",theme:{fill:"transparent"},onclick:function(e){e.preventDefault(),d()}},contextButton:{symbol:"menu",align:"left",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS","viewData"]}}},series:[{name:"percentage",data:null}],credits:{enabled:!1}});return(e,t)=>{const a=o("highcharts");return n(),l("div",c,[s(a,{ref_key:"chartRef",ref:b,options:v.value},null,8,["options"])])}}};export{p as default};

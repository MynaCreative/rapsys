import{s as e,r as l,D as a,w as s,o as t,b as o,c as i,G as n,F as r,u as d,H as c,an as u,n as p,e as m,t as f,m as v,a as b,d as y,g as h}from"./app-891c8d04.js";import{_ as x}from"./Modal-9511757c.js";const g={class:"modal-header p-3 bg-soft-info"},w=o("h5",{class:"modal-title"},"Line - Upload Form",-1),_={class:"modal-body"},k={class:"row g-2"},D={key:0,class:"col-lg-6"},C={class:"form-check card-radio"},M=["id","value"],U=["for"],j={class:"d-flex align-items-center"},F={class:"flex-shrink-0"},L={class:"avatar-xs"},$={class:"flex-grow-1 ms-3"},z={class:"mb-1"},A={class:"pay-amount"},E=o("hr",null,null,-1),G={key:0,class:"row g-2"},H={class:"form-text mt-4"},N=["href"],P=o("i",{class:"ri-attachment-2 align-bottom"},null,-1),S=o("br",null,null,-1),V=o("span",{class:"text-muted"},"Please using latest excel template above to import line item",-1),q={class:"modal-footer justify-content-between"},B=o("i",{class:"ri-close-line align-bottom me-1"},null,-1),I=o("i",{class:p(["label-icon align-middle fs-16 me-2 ri-add-line"])},null,-1),J={__name:"UploadModal",props:["show","formData","references","type"],emits:["update:show","update:formData"],setup(J,{emit:K}){const O=J,Q=e({get:()=>O.formData,set(e){K("update:formData",e)}}),R=l(null),T=()=>{Q.value.expenses.push({excel_file:null,type:R.value.type,expense_id:R.value.id,expense:R.value,withholding_id:null,withholding:null,tax_id:null,tax:null,cost_center_id:null,cost_center:null}),R.value=null,K("update:show",!1)};return(e,l)=>{const O=h;return t(),a(x,{visible:J.show,"onUpdate:visible":l[4]||(l[4]=e=>J.show=e),size:"modal-lg"},{default:s((()=>[o("div",g,[w,o("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:l[0]||(l[0]=e=>(K("update:show",!1),R.value=null))})]),o("form",{onSubmit:l[3]||(l[3]=y(((...l)=>e.submit&&e.submit(...l)),["prevent"]))},[o("div",_,[o("div",k,[(t(!0),i(r,null,n(J.references.expenses.filter((e=>"MNL"!=e.code)),((e,a)=>(t(),i(r,{key:a},[d(Q).expenses.includes(e.code)?v("",!0):(t(),i("div",D,[o("div",C,[c(o("input",{id:`expense-picker-${e.code}`,"onUpdate:modelValue":l[1]||(l[1]=e=>R.value=e),value:e,type:"radio",class:"form-check-input"},null,8,M),[[u,R.value]]),o("label",{class:"form-check-label",for:`expense-picker-${e.code}`},[o("div",j,[o("div",F,[o("div",L,[o("div",{class:p(["avatar-title fs-18 rounded",{"bg-soft-info":1==e.type},{"text-info":1==e.type},{"bg-soft-primary":2==e.type},{"text-primary":2==e.type}])},[o("i",{class:p(e.icon)},null,2)],2)])]),o("div",$,[o("h6",z,[m(f(e.name)+" ",1),o("span",{class:p(["badge rounded-pill",{"bg-soft-info":1==e.type},{"text-info":1==e.type},{"bg-soft-primary":2==e.type},{"text-primary":2==e.type}])},f(e.type_text),3)]),o("b",A,f(e.code),1)])])],8,U)])]))],64)))),128))]),E,R.value?(t(),i("div",G,[o("div",H,[o("a",{href:e.route("transaction.invoices.import-sample",R.value??""),target:"_blank"},[P,m(" Download Excel template ["+f(R.value.name)+"] ",1)],8,N),S,V])])):v("",!0)]),o("div",q,[b(O,{variant:"light",onClick:l[2]||(l[2]=e=>(K("update:show",!1),R.value=null))},{default:s((()=>[B,m(" Close ")])),_:1}),b(O,{type:"submit",variant:"primary",class:"btn-label waves-effect waves-light",onClick:T},{default:s((()=>[I,m(" Add ")])),_:1})])],32)])),_:1},8,["visible"])}}};export{J as default};

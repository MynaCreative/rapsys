import{T as e,N as s,D as a,w as r,o as t,b as o,t as l,u as i,a as n,e as d,v as m,n as c,d as p,A as u,g as f}from"./app-891c8d04.js";import{_ as b}from"./Modal-9511757c.js";import v from"./Form-b0d0103a.js";import{s as g,e as h}from"./service-96d12017.js";import"./multiselect-0a635aa6.js";import"./sweetalert2.all-3ba2fbff.js";const w={class:"modal-header p-3 bg-soft-primary"},j={class:"modal-title"},y=["onSubmit"],_={class:"modal-body"},D={class:"modal-footer justify-content-between"},C=o("i",{class:"ri-close-line align-bottom me-1"},null,-1),F={__name:"Form",props:["show","id","references"],emits:["update:show","update:id"],setup(F,{emit:S}){const U=F,V=h().page,k=e(h().form),A=()=>{g.submitData(k,U.id,S)};return s(U,(async e=>{e.id?g.showData(k,e.id):(S("update:id",null),k.reset(),k.clearErrors())})),(e,s)=>{const g=u,h=f;return t(),a(b,{visible:F.show,"onUpdate:visible":s[3]||(s[3]=e=>F.show=e)},{default:r((()=>[o("div",w,[o("h5",j,"Form "+l(F.id?"Update":"Create")+" - "+l(i(V).title),1),o("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:s[0]||(s[0]=e=>S("update:show",!1))})]),o("form",{onSubmit:p(A,["prevent"])},[o("div",_,[n(g,{modelValue:!!i(k).errors.error,variant:"danger"},{default:r((()=>[d(l(i(k).errors.error),1)])),_:1},8,["modelValue"]),n(v,{formData:i(k),"onUpdate:formData":s[1]||(s[1]=e=>m(k)?k.value=e:null),references:F.references},null,8,["formData","references"])]),o("div",D,[n(h,{variant:"light",onClick:s[2]||(s[2]=e=>S("update:show",!1))},{default:r((()=>[C,d(" Close ")])),_:1}),n(h,{type:"submit",variant:"primary",class:"btn-label waves-effect waves-light",disabled:i(k).processing},{default:r((()=>[o("i",{class:c(["label-icon align-middle fs-16 me-2",i(k).processing?"ri-refresh-line":"ri-save-line"])},null,2),d(" "+l(i(k).processing?"Processing":"Save"),1)])),_:1},8,["disabled"])])],40,y)])),_:1},8,["visible"])}}};export{F as default};

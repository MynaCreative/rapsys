import{T as a,r as t,P as e,N as s,D as l,w as o,o as r,b as i,t as d,u as p,a as c,c as n,G as u,e as m,m as v,F as _,ad as h,O as f,g as b}from"./app-891c8d04.js";import{_ as y}from"./Modal-9511757c.js";import{_ as w}from"./Timestamp-4502638c.js";import{_ as j}from"./UserName-bf87c315.js";import{s as x,e as g}from"./service-187ac3fa.js";import"./sweetalert2.all-3ba2fbff.js";const k={class:"modal-header p-3 bg-soft-primary"},z={class:"modal-title"},A={class:"table-responsive"},C={class:"table align-middle"},D=i("thead",{class:"table-light"},[i("tr",null,[i("th",{scope:"col",style:{width:"70px"},class:"text-center"},"#"),i("th",{scope:"col"},"Name"),i("th",{scope:"col"},"Position"),i("th",{scope:"col",class:"text-center"},"Status"),i("th",{scope:"col"},"Date"),i("th")])],-1),N={class:"text-center"},G={class:"text-center"},M=i("td",null,null,-1),P={class:"modal-footer"},U=i("i",{class:"ri-close-line align-bottom me-1"},null,-1),F={__name:"Approval",props:["show","id"],emits:["update:show","update:id"],setup(F,{emit:O}){const S=F,T=a(g().form),V=t(!1);let q=e([]);return s(S,(async a=>{T.reset(),a.id?(V.value=!0,q=await x.showApproval(a.id),V.value=!1):O("update:id",null)})),(a,t)=>{const e=h,s=f,x=b;return r(),l(y,{visible:F.show,"onUpdate:visible":t[2]||(t[2]=a=>F.show=a),size:"modal-lg"},{default:o((()=>[i("div",k,[i("h5",z,"Approval View - "+d(p(q).invoice_number),1),i("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:t[0]||(t[0]=a=>O("update:show",!1))})]),c(s,{show:V.value,opacity:.25,"spinner-small":"",rounded:"sm"},{default:o((()=>[i("div",A,[i("table",C,[D,i("tbody",null,[(r(!0),n(_,null,u(p(q).approvals,((a,t)=>(r(),n("tr",{key:t},[i("td",N,d(t+1),1),i("td",null,[c(j,{data:a.user.name},null,8,["data"])]),i("td",null,d(a.user?.position??"-"),1),i("td",G,[a.approved_at||a.rejected_at?v("",!0):(r(),l(e,{key:0,variant:"soft-primary",class:"text-primary text-capitalize"},{default:o((()=>[m(d(a.status),1)])),_:2},1024)),a.approved_at&&!a.rejected_at?(r(),l(e,{key:1,variant:"soft-success",class:"text-success text-capitalize"},{default:o((()=>[m(d(a.status),1)])),_:2},1024)):v("",!0),!a.approved_at&&a.rejected_at?(r(),l(e,{key:2,variant:"soft-danger",class:"text-danger text-capitalize"},{default:o((()=>[m(d(a.status),1)])),_:2},1024)):v("",!0)]),i("td",null,[!a.approved_at&&a.rejected_at?(r(),l(w,{key:0,data:a.rejected_at},null,8,["data"])):v("",!0),a.approved_at&&!a.rejected_at?(r(),l(w,{key:1,data:a.approved_at},null,8,["data"])):v("",!0)]),M])))),128))])])])])),_:1},8,["show","opacity"]),i("div",P,[c(x,{variant:"light",onClick:t[1]||(t[1]=a=>O("update:show",!1))},{default:o((()=>[U,m(" Close ")])),_:1})])])),_:1},8,["visible"])}}};export{F as default};

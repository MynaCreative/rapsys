import{T as a,r as t,P as e,N as s,D as l,w as o,o as r,b as i,t as d,u as p,a as c,c as n,G as u,e as m,m as v,F as _,ad as h,O as f,g as b}from"./app-4fa61095.js";import{_ as w}from"./Modal-6f5881bc.js";import{_ as y}from"./Timestamp-fd1462d2.js";import{_ as j}from"./UserName-ff67b14b.js";import{s as x,e as g}from"./service-21b81677.js";import"./sweetalert2.all-47788bf1.js";const k={class:"modal-header p-3 bg-soft-primary"},z={class:"modal-title"},C={class:"table-responsive"},A={class:"table align-middle"},N=i("thead",{class:"table-light"},[i("tr",null,[i("th",{scope:"col",style:{width:"70px"},class:"text-center"},"#"),i("th",{scope:"col"},"Name"),i("th",{scope:"col"},"Position"),i("th",{scope:"col",class:"text-center"},"Status"),i("th",{scope:"col"},"Date"),i("th")])],-1),U={class:"text-center"},D={class:"text-center"},O=i("td",null,null,-1),P={class:"modal-footer"},F=i("i",{class:"ri-close-line align-bottom me-1"},null,-1),G={__name:"Approval",props:["show","id"],emits:["update:show","update:id"],setup(G,{emit:I}){const L=G,M=a(g().form),S=t(!1);let T=e([]);return s(L,(async a=>{M.reset(),a.id?(S.value=!0,T=await x.showApproval(a.id),S.value=!1):I("update:id",null)})),(a,t)=>{const e=h,s=f,x=b;return r(),l(w,{visible:G.show,"onUpdate:visible":t[2]||(t[2]=a=>G.show=a),size:"modal-lg"},{default:o((()=>[i("div",k,[i("h5",z,"Approval View - "+d(p(T).invoice_number),1),i("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:t[0]||(t[0]=a=>I("update:show",!1))})]),c(s,{show:S.value,opacity:.25,"spinner-small":"",rounded:"sm"},{default:o((()=>[i("div",C,[i("table",A,[N,i("tbody",null,[(r(!0),n(_,null,u(p(T).approvals,((a,t)=>(r(),n("tr",{key:t},[i("td",U,d(t+1),1),i("td",null,[c(j,{data:a.user.name},null,8,["data"])]),i("td",null,d(a.user?.position??"-"),1),i("td",D,[a.approved_at||a.rejected_at?v("",!0):(r(),l(e,{key:0,variant:"soft-primary",class:"text-primary text-capitalize"},{default:o((()=>[m(d(a.status),1)])),_:2},1024)),a.approved_at&&!a.rejected_at?(r(),l(e,{key:1,variant:"soft-success",class:"text-success text-capitalize"},{default:o((()=>[m(d(a.status),1)])),_:2},1024)):v("",!0),!a.approved_at&&a.rejected_at?(r(),l(e,{key:2,variant:"soft-danger",class:"text-danger text-capitalize"},{default:o((()=>[m(d(a.status),1)])),_:2},1024)):v("",!0)]),i("td",null,[!a.approved_at&&a.rejected_at?(r(),l(y,{key:0,data:a.rejected_at},null,8,["data"])):v("",!0),a.approved_at&&!a.rejected_at?(r(),l(y,{key:1,data:a.approved_at},null,8,["data"])):v("",!0)]),O])))),128))])])])])),_:1},8,["show","opacity"]),i("div",P,[c(x,{variant:"light",onClick:t[1]||(t[1]=a=>I("update:show",!1))},{default:o((()=>[F,m(" Close ")])),_:1})])])),_:1},8,["visible"])}}};export{G as default};

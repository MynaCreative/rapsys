import{T as a,r as s,N as e,D as t,w as o,o as l,b as r,t as i,u as n,a as d,e as m,v as u,n as p,d as c,A as f,O as b,g as v}from"./app-30e0783b.js";import{_ as w}from"./Modal-36df24f3.js";import h from"./Form-8b0afe8a.js";import{e as g}from"./entity-e126e773.js";import{s as y}from"./service-4b36ff1e.js";import"./sweetalert2.all-aaaa6da5.js";const _={class:"modal-header p-3 bg-soft-primary"},j={class:"modal-title"},D=["onSubmit"],C={class:"modal-body"},F={class:"modal-footer justify-content-between"},S=r("i",{class:"ri-close-line align-bottom me-1"},null,-1),U={__name:"Form",props:["show","id"],emits:["update:show","update:id"],setup(U,{emit:k}){const A=U,M=g().page,N=a(g().form),O=()=>{y.submitData(N,A.id,k)},V=s(!1);return e(A,(async a=>{N.reset(),a.id?(V.value=!0,await y.showData(N,a.id),V.value=!1):(k("update:id",null),N.reset(),N.clearErrors())})),(a,s)=>{const e=f,g=b,y=v;return l(),t(w,{visible:U.show,"onUpdate:visible":s[3]||(s[3]=a=>U.show=a)},{default:o((()=>[r("div",_,[r("h5",j,"Form "+i(U.id?"Update":"Create")+" - "+i(n(M).title),1),r("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:s[0]||(s[0]=a=>k("update:show",!1))})]),r("form",{onSubmit:c(O,["prevent"])},[d(g,{show:V.value,opacity:.25,"spinner-small":"",rounded:"sm"},{default:o((()=>[r("div",C,[d(e,{modelValue:!!n(N).errors.error,variant:"danger"},{default:o((()=>[m(i(n(N).errors.error),1)])),_:1},8,["modelValue"]),d(h,{formData:n(N),"onUpdate:formData":s[1]||(s[1]=a=>u(N)?N.value=a:null)},null,8,["formData"])])])),_:1},8,["show","opacity"]),r("div",F,[d(y,{variant:"light",onClick:s[2]||(s[2]=a=>k("update:show",!1))},{default:o((()=>[S,m(" Close ")])),_:1}),d(y,{type:"submit",variant:"primary",class:"btn-label waves-effect waves-light",disabled:n(N).processing},{default:o((()=>[r("i",{class:p(["label-icon align-middle fs-16 me-2",n(N).processing?"ri-refresh-line":"ri-save-line"])},null,2),m(" "+i(n(N).processing?"Processing":"Save"),1)])),_:1},8,["disabled"])])],40,D)])),_:1},8,["visible"])}}};export{U as default};

import{T as t,Q as e,r as a,D as l,w as s,o as i,a as r,u as o,Z as n,b as d,i as c,e as u,m as p,d as m,H as v,I as _,c as f,G as b,t as h,F as x,M as g,ad as y,ao as k}from"./app-4fa61095.js";import{_ as w}from"./Main-f90a679c.js";import{_ as j}from"./PageHeader-41edaff7.js";import{_ as C,a as z}from"./PerPage-a1cee13e.js";import{_ as $}from"./Timestamp-fd1462d2.js";import{_ as D}from"./Reload-9458aec4.js";import{_ as I}from"./Sort-4f94b5b4.js";import M from"./Approval-26551c8a.js";import{e as S,s as U}from"./service-21b81677.js";import"./logo-light-68509ea3.js";import"./sweetalert2.all-47788bf1.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./Footer-909bdcdd.js";import"./Modal-6f5881bc.js";import"./UserName-ff67b14b.js";const A={class:"card"},P={class:"card-header border-0"},Y={class:"row g-4"},E={class:"col-sm-auto"},F=d("i",{class:"ri-add-line label-icon align-middle fs-16 me-2"},null,-1),N={class:"col-sm"},R={class:"d-flex justify-content-sm-end"},G={class:"card-body p-0 border-2 border-top border-bottom"},H=["placeholder"],L=d("i",{class:"ri-search-line search-icon"},null,-1),T={class:"card-body pb-0"},V={class:"table-responsive table-card mb-0"},q={class:"table table-hover table-nowrap table-sm align-middle mb-0"},K={class:"table-light text-muted"},O=d("th",{width:"60",rowspan:"2",class:"align-middle"},"#",-1),B=d("th",{class:"text-center",colspan:"3"},"Status",-1),J=d("th",{class:"text-center",colspan:"2"},"Date",-1),Q=d("th",{width:"100",class:"text-center align-middle",rowspan:"2"},"Action",-1),W=d("th",{class:"text-center"},"Document",-1),X=d("th",{class:"text-center"},"Checking",-1),Z=d("th",{class:"text-center"},"Approval",-1),tt={class:"fw-medium"},et={class:"text-end"},at={class:"text-primary fs-11 mb-0"},lt=d("i",{class:"ri-wallet-line align-middle"},null,-1),st={class:"text-center"},it={class:"text-center"},rt={class:"text-center"},ot={class:"text-center date"},nt={class:"text-center date"},dt={class:"list-inline gap-2 mb-0 text-center"},ct=["onClick"],ut=d("i",{class:"ri-pencil-fill fs-16"},null,-1),pt={key:0,class:"list-inline-item",title:"Remove"},mt=["onClick"],vt=[d("i",{class:"ri-delete-bin-5-fill fs-16"},null,-1)],_t={class:"card-footer p-0"},ft={__name:"Index",props:["collection","filters"],setup(ft){const bt=S().page,ht=[{text:"Dashboard",to:route("dashboard")},{text:"Transaction"},{text:bt.title,active:!0}],xt=t({keyword:e().props.ziggy.query.keyword??null}),gt=a(null),yt=a(!1),kt=a(!1);return(t,e)=>{const a=g,S=y,wt=k;return i(),l(w,null,{header:s((()=>[r(j,{title:o(bt).title,breadcrumbs:ht},null,8,["title"])])),default:s((()=>[r(o(n),{title:o(bt).title},null,8,["title"]),d("div",A,[d("div",P,[d("div",Y,[d("div",E,[r(a,null,{default:s((()=>[r(o(c),{href:t.route(`${o(bt).module}.${o(bt).name}.create`),class:"btn btn-primary btn-label waves-effect waves-light"},{default:s((()=>[F,u(" Create ")])),_:1},8,["href"])])),_:1})]),d("div",N,[d("div",R,[r(a,null,{default:s((()=>[r(D,{page:o(bt)},null,8,["page"]),ft.collection.links.length>3?(i(),l(C,{key:0})):p("",!0)])),_:1})])])])]),d("div",G,[d("form",{onSubmit:e[1]||(e[1]=m((e=>o(xt).get(t.route(`${o(bt).module}.${o(bt).name}.index`))),["prevent"])),class:"search-box"},[v(d("input",{type:"search",class:"form-control search border-0 py-3",placeholder:`Search for ${o(bt).title} ...`,"onUpdate:modelValue":e[0]||(e[0]=t=>o(xt).keyword=t)},null,8,H),[[_,o(xt).keyword]]),L],32)]),d("div",T,[d("div",V,[d("table",q,[d("thead",K,[d("tr",null,[O,r(I,{label:"Invoice Number",attribute:"invoice_number",rowspan:"2",class:"align-middle"}),r(I,{label:"Vendor",attribute:"vendor_id",rowspan:"2",class:"align-middle"}),r(I,{label:"Invoice Amount",attribute:"total_amount",rowspan:"2",class:"text-center align-middle"}),B,J,Q]),d("tr",null,[W,X,Z,r(I,{width:"110",label:"Invoice",attribute:"invoice_date",class:"text-center"}),r(I,{width:"140",label:"Created",attribute:"created_at",class:"text-center"})])]),d("tbody",null,[(i(!0),f(x,null,b(ft.collection.data,((e,a)=>(i(),f("tr",{key:e.id},[d("td",null,h((ft.collection.current_page-1)*ft.collection.per_page+a+1),1),d("td",tt,h(e.invoice_number?e.invoice_number:"--"),1),d("td",null,h(e.vendor?`${e.vendor.code} - ${e.vendor.name}`:"--"),1),d("td",et,[d("h6",at,[u(h(e.total_amount_after_tax.toLocaleString())+" ",1),lt])]),d("td",st,["draft"==e.document_status?(i(),l(S,{key:0,variant:"light",class:"rounded-pill text-capitalize"},{default:s((()=>[u(h(e.document_status),1)])),_:2},1024)):p("",!0),"published"==e.document_status?(i(),l(S,{key:1,variant:"primary",class:"rounded-pill text-capitalize"},{default:s((()=>[u(h(e.document_status),1)])),_:2},1024)):p("",!0),"cancelled"==e.document_status?(i(),l(S,{key:2,variant:"danger",class:"rounded-pill text-capitalize"},{default:s((()=>[u(h(e.document_status),1)])),_:2},1024)):p("",!0),"void"==e.document_status?(i(),l(S,{key:3,variant:"danger",class:"rounded-pill text-capitalize"},{default:s((()=>[u(h(e.document_status),1)])),_:2},1024)):p("",!0),"closed"==e.document_status?(i(),l(S,{key:4,variant:"success",class:"rounded-pill text-capitalize"},{default:s((()=>[u(h(e.document_status),1)])),_:2},1024)):p("",!0)]),d("td",it,[e.items!=e.validated_items?(i(),l(wt,{key:0,value:e.validated_items,max:e.items,height:"15px","show-progress":"",animated:""},null,8,["value","max"])):(i(),l(S,{key:1,variant:"success",class:"rounded-pill text-capitalize"},{default:s((()=>[u("done")])),_:1}))]),d("td",rt,["none"==e.approval_status?(i(),l(S,{key:0,variant:"light",class:"text-capitalize"},{default:s((()=>[u(h(e.approval_status),1)])),_:2},1024)):p("",!0),"pending"==e.approval_status?(i(),l(S,{key:1,variant:"soft-primary",class:"text-primary text-capitalize cursor-pointer",onClick:()=>{gt.value=e.id,kt.value=!0}},{default:s((()=>[u(h(e.approval_status),1)])),_:2},1032,["onClick"])):p("",!0),"approved"==e.approval_status?(i(),l(S,{key:2,variant:"soft-success",class:"text-success text-capitalize cursor-pointer",onClick:()=>{gt.value=e.id,kt.value=!0}},{default:s((()=>[u(h(e.approval_status),1)])),_:2},1032,["onClick"])):p("",!0),"rejected"==e.approval_status?(i(),l(S,{key:3,variant:"soft-danger",class:"text-danger text-capitalize cursor-pointer",onClick:()=>{gt.value=e.id,kt.value=!0}},{default:s((()=>[u(h(e.approval_status),1)])),_:2},1032,["onClick"])):p("",!0)]),d("td",ot,h(t.$dayjs(e.invoice_date).format("DD MMM, YYYY")),1),d("td",nt,[r($,{data:e.created_at},null,8,["data"])]),d("td",null,[d("ul",dt,[d("li",{class:"list-inline-item edit",title:"Edit",onClick:()=>{gt.value=e.id,yt.value=!0}},[r(o(c),{href:t.route(`${o(bt).module}.${o(bt).name}.edit`,e.id),class:"text-primary d-inline-block",title:"Edit"},{default:s((()=>[ut])),_:2},1032,["href"])],8,ct),"draft"==e.document_status?(i(),f("li",pt,[d("a",{href:"javascript:void(0);",class:"text-danger d-inline-block",onClick:t=>o(U).deleteData(e.id)},vt,8,mt)])):p("",!0)])])])))),128))])])])]),d("div",_t,[r(z,{data:ft.collection},null,8,["data"])])]),r(M,{show:kt.value,"onUpdate:show":e[2]||(e[2]=t=>kt.value=t),id:gt.value,"onUpdate:id":e[3]||(e[3]=t=>gt.value=t)},null,8,["show","id"])])),_:1})}}};export{ft as default};

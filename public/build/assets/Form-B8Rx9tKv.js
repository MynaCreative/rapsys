import{T as a,r as e,N as s,o as t,D as l,w as o,b as r,t as i,u as d,a as n,e as m,U as u,n as p,d as c,A as f,O as b,h as v}from"./app-C9OX3ezV.js";import{_ as h}from"./Modal-C-7wPC8u.js";import w from"./Form-BNKaRb9i.js";import{e as g}from"./entity-BvxmBtmW.js";import{s as y}from"./service-Dqi0Zqgs.js";import"./sweetalert2.all-BBb44_lw.js";const _={class:"modal-header p-3 bg-soft-primary"},j={class:"modal-title"},D={class:"modal-body"},C={class:"modal-footer justify-content-between"},U=r("i",{class:"ri-close-line align-bottom me-1"},null,-1),F={__name:"Form",props:["show","id"],emits:["update:show","update:id"],setup(F,{emit:k}){const M=g().page,N=F,S=k,V=a(g().form),x=()=>{y.submitData(V,N.id,S)},z=e(!1);return s(N,(async a=>{V.reset(),a.id?(z.value=!0,await y.showData(V,a.id),z.value=!1):(S("update:id",null),V.reset(),V.clearErrors())})),(a,e)=>{const s=f,g=b,y=v;return t(),l(h,{visible:F.show,"onUpdate:visible":e[3]||(e[3]=a=>F.show=a),size:"modal-lg"},{default:o((()=>[r("div",_,[r("h5",j,"Form "+i(F.id?"Update":"Create")+" - "+i(d(M).title),1),r("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=a=>S("update:show",!1))})]),r("form",{onSubmit:c(x,["prevent"])},[n(g,{show:z.value,opacity:.25,"spinner-small":"",rounded:"sm"},{default:o((()=>[r("div",D,[n(s,{modelValue:!!d(V).errors.error,variant:"danger"},{default:o((()=>[m(i(d(V).errors.error),1)])),_:1},8,["modelValue"]),n(w,{formData:d(V),"onUpdate:formData":e[1]||(e[1]=a=>u(V)?V.value=a:null)},null,8,["formData"])])])),_:1},8,["show"]),r("div",C,[n(y,{variant:"light",onClick:e[2]||(e[2]=a=>S("update:show",!1))},{default:o((()=>[U,m(" Close ")])),_:1}),n(y,{type:"submit",variant:"primary",class:"btn-label waves-effect waves-light",disabled:d(V).processing},{default:o((()=>[r("i",{class:p(["label-icon align-middle fs-16 me-2",d(V).processing?"ri-refresh-line":"ri-save-line"])},null,2),m(" "+i(d(V).processing?"Processing":"Save"),1)])),_:1},8,["disabled"])])],32)])),_:1},8,["visible"])}}};export{F as default};

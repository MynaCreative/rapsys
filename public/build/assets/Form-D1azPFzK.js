import{T as e,r as s,N as a,o as r,D as t,w as o,b as l,t as i,u as n,a as d,e as m,U as p,n as u,d as c,A as f,O as b,h as v}from"./app-DSTM3SJ3.js";import{_ as h}from"./Modal-1mpmqj-q.js";import w from"./Form-BSYeY7YH.js";import{e as g}from"./entity-DcOze2tn.js";import{s as y}from"./service-TQgXIv5B.js";import"./vue-select-BtwHA1xE.js";import"./sweetalert2.all-BaCSOYxu.js";const j={class:"modal-header p-3 bg-soft-primary"},_={class:"modal-title"},D={class:"modal-body"},C={class:"modal-footer justify-content-between"},U=l("i",{class:"ri-close-line align-bottom me-1"},null,-1),F={__name:"Form",props:["show","id","references"],emits:["update:show","update:id"],setup(F,{emit:k}){const M=g().page,S=F,V=k,x=e(g().form),A=()=>{y.submitData(x,S.id,V)},E=s(!1);return a(S,(async e=>{x.reset(),e.id?(E.value=!0,await y.showData(x,e.id),E.value=!1):(V("update:id",null),x.reset(),x.clearErrors())})),(e,s)=>{const a=f,g=b,y=v;return r(),t(h,{visible:F.show,"onUpdate:visible":s[3]||(s[3]=e=>F.show=e)},{default:o((()=>[l("div",j,[l("h5",_,"Form "+i(F.id?"Update":"Create")+" - "+i(n(M).title),1),l("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:s[0]||(s[0]=e=>V("update:show",!1))})]),l("form",{onSubmit:c(A,["prevent"])},[d(g,{show:E.value,opacity:.25,"spinner-small":"",rounded:"sm"},{default:o((()=>[l("div",D,[d(a,{modelValue:!!n(x).errors.error,variant:"danger"},{default:o((()=>[m(i(n(x).errors.error),1)])),_:1},8,["modelValue"]),d(w,{formData:n(x),"onUpdate:formData":s[1]||(s[1]=e=>p(x)?x.value=e:null),references:F.references},null,8,["formData","references"])])])),_:1},8,["show"]),l("div",C,[d(y,{variant:"light",onClick:s[2]||(s[2]=e=>V("update:show",!1))},{default:o((()=>[U,m(" Close ")])),_:1}),d(y,{type:"submit",variant:"primary",class:"btn-label waves-effect waves-light",disabled:n(x).processing},{default:o((()=>[l("i",{class:u(["label-icon align-middle fs-16 me-2",n(x).processing?"ri-refresh-line":"ri-save-line"])},null,2),m(" "+i(n(x).processing?"Processing":"Save"),1)])),_:1},8,["disabled"])])],32)])),_:1},8,["visible"])}}};export{F as default};

import{T as a,r as t,P as e,N as s,o as l,D as o,w as r,b as i,t as d,u as p,a as c,c as n,E as u,e as m,q as v,F as _,a5 as h,O as f,h as b}from"./app-DSTM3SJ3.js";import{_ as w}from"./Modal-1mpmqj-q.js";import{_ as y}from"./Timestamp-CtxzEmuD.js";import{_ as j}from"./UserName-B1eWDQBk.js";import{s as x,e as g}from"./service-bYEantlz.js";import"./sweetalert2.all-BaCSOYxu.js";const k={class:"modal-header p-3 bg-soft-primary"},z={class:"modal-title"},A={class:"table-responsive"},C={class:"table align-middle"},N=i("thead",{class:"table-light"},[i("tr",null,[i("th",{scope:"col",style:{width:"70px"},class:"text-center"},"#"),i("th",{scope:"col"},"Name"),i("th",{scope:"col"},"Position"),i("th",{scope:"col",class:"text-center"},"Status"),i("th",{scope:"col"},"Date"),i("th")])],-1),P={class:"text-center"},D={class:"text-center"},M=i("td",null,null,-1),S={class:"modal-footer"},U=i("i",{class:"ri-close-line align-bottom me-1"},null,-1),q={__name:"Approval",props:["show","id"],emits:["update:show","update:id"],setup(q,{emit:E}){const F=q,O=E,T=a(g().form),V=t(!1);let Y=e([]);return s(F,(async a=>{T.reset(),a.id?(V.value=!0,Y=await x.showApproval(a.id),V.value=!1):O("update:id",null)})),(a,t)=>{const e=h,s=f,x=b;return l(),o(w,{visible:q.show,"onUpdate:visible":t[2]||(t[2]=a=>q.show=a),size:"modal-lg"},{default:r((()=>[i("div",k,[i("h5",z,"Approval View - "+d(p(Y).invoice_number),1),i("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:t[0]||(t[0]=a=>O("update:show",!1))})]),c(s,{show:V.value,opacity:.25,"spinner-small":"",rounded:"sm"},{default:r((()=>[i("div",A,[i("table",C,[N,i("tbody",null,[(l(!0),n(_,null,u(p(Y).approvals,((a,t)=>(l(),n("tr",{key:t},[i("td",P,d(t+1),1),i("td",null,[c(j,{data:a.user.name},null,8,["data"])]),i("td",null,d(a.user?.position??"-"),1),i("td",D,[a.approved_at||a.rejected_at?v("",!0):(l(),o(e,{key:0,variant:"soft-primary",class:"text-primary text-capitalize"},{default:r((()=>[m(d(a.status),1)])),_:2},1024)),a.approved_at&&!a.rejected_at?(l(),o(e,{key:1,variant:"soft-success",class:"text-success text-capitalize"},{default:r((()=>[m(d(a.status),1)])),_:2},1024)):v("",!0),!a.approved_at&&a.rejected_at?(l(),o(e,{key:2,variant:"soft-danger",class:"text-danger text-capitalize"},{default:r((()=>[m(d(a.status),1)])),_:2},1024)):v("",!0)]),i("td",null,[!a.approved_at&&a.rejected_at?(l(),o(y,{key:0,data:a.rejected_at},null,8,["data"])):v("",!0),a.approved_at&&!a.rejected_at?(l(),o(y,{key:1,data:a.approved_at},null,8,["data"])):v("",!0)]),M])))),128))])])])])),_:1},8,["show"]),i("div",S,[c(x,{variant:"light",onClick:t[1]||(t[1]=a=>O("update:show",!1))},{default:r((()=>[U,m(" Close ")])),_:1})])])),_:1},8,["visible"])}}};export{q as default};

import{T as e,N as s,o as a,D as r,w as t,b as o,t as l,u as i,a as n,e as d,U as m,n as c,d as p,A as u,h as f}from"./app-C9OX3ezV.js";import{_ as b}from"./Modal-C-7wPC8u.js";import v from"./Form-CmiwKNPv.js";import{e as h,s as w}from"./service-EGlfKznx.js";import"./sweetalert2.all-BBb44_lw.js";const g={class:"modal-header p-3 bg-soft-primary"},y={class:"modal-title"},_={class:"modal-body"},j={class:"modal-footer justify-content-between"},D=o("i",{class:"ri-close-line align-bottom me-1"},null,-1),C={__name:"Form",props:["show","id","references"],emits:["update:show","update:id"],setup(C,{emit:U}){const F=h().page,k=C,M=U,S=e(h().form),V=()=>{w.submitData(S,k.id,M)};return s(k,(async e=>{e.id?w.showData(S,e.id):(M("update:id",null),S.reset(),S.clearErrors())})),(e,s)=>{const h=u,w=f;return a(),r(b,{visible:C.show,"onUpdate:visible":s[3]||(s[3]=e=>C.show=e)},{default:t((()=>[o("div",g,[o("h5",y,"Form "+l(C.id?"Update":"Create")+" - "+l(i(F).title),1),o("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:s[0]||(s[0]=e=>M("update:show",!1))})]),o("form",{onSubmit:p(V,["prevent"])},[o("div",_,[n(h,{modelValue:!!i(S).errors.error,variant:"danger"},{default:t((()=>[d(l(i(S).errors.error),1)])),_:1},8,["modelValue"]),n(v,{formData:i(S),"onUpdate:formData":s[1]||(s[1]=e=>m(S)?S.value=e:null),references:C.references},null,8,["formData","references"])]),o("div",j,[n(w,{variant:"light",onClick:s[2]||(s[2]=e=>M("update:show",!1))},{default:t((()=>[D,d(" Close ")])),_:1}),n(w,{type:"submit",variant:"primary",class:"btn-label waves-effect waves-light",disabled:i(S).processing},{default:t((()=>[o("i",{class:c(["label-icon align-middle fs-16 me-2",i(S).processing?"ri-refresh-line":"ri-save-line"])},null,2),d(" "+l(i(S).processing?"Processing":"Save"),1)])),_:1},8,["disabled"])])],32)])),_:1},8,["visible"])}}};export{C as default};

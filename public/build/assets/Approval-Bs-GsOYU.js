import{r as e,x as a,y as o,z as t,o as n,c as l,a as r,B as s}from"./app-C9OX3ezV.js";import{s as i}from"./service-BxplQAEh.js";const p={class:"w-full"},c={__name:"Approval",setup(c){const d=e(),u=async()=>{const e=v.value.chart;e.showLoading("Loading ..."),d.value=await i.fetchData("chart","invoice-approval"),e.update({series:[{data:s(d.value)}],plotOptions:{pie:{colors:f(m,s(d.value))}}}),e.hideLoading()};a((()=>{u()}));const m=[{name:"none",color:"#e2e8f0"},{name:"pending",color:"#fb923c"},{name:"approved",color:"#22c55e"},{name:"revision",color:"#0ea5e9"},{name:"rejected",color:"#ef4444"}],f=(e,a)=>a.map((a=>{const o=e.find((e=>e.name===a.name));return o?o.color:null})).filter((e=>null!==e)),v=e(null),b=e({title:{text:"Invoice Approval",align:"center"},chart:{type:"pie",events:{}},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b> <small>({point.y})</small>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",borderRadius:5,dataLabels:{enabled:!0,format:"<b>{point.name}</b><br>{point.percentage:.1f} %<br><small>({point.y})</small>",distance:-50,filter:{property:"percentage",operator:">",value:4}},point:{events:{click:function(){o.get(route("ppcr.proposals.index",{filter:{approval_status:[this.name]}}))}}}}},exporting:{buttons:{refreshButton:{symbol:"url(https://api.iconify.design/ic/baseline-refresh.svg?color=%23666)",symbolSize:24,symbolX:27,symbolY:27,x:0,align:"right",theme:{fill:"transparent"},onclick:function(e){e.preventDefault(),u()}},contextButton:{symbol:"menu",align:"left",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS","viewData"]}}},series:[{name:"percentage",data:null}],credits:{enabled:!1}});return(e,a)=>{const o=t("highcharts");return n(),l("div",p,[r(o,{ref_key:"chartRef",ref:v,options:b.value},null,8,["options"])])}}};export{c as default};

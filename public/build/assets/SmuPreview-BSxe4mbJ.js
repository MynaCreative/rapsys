import{r as t,P as a,N as i,o as l,D as e,w as s,b as o,t as n,a as m,u as d,c as r,F as u,E as c,q as g,e as h,O as w,h as _}from"./app-C9OX3ezV.js";import{s as b}from"./sumBy-D8RWVrkp.js";import{_ as x}from"./Modal-C-7wPC8u.js";import{s as p}from"./service-De3zA6zd.js";import"./_baseIteratee-DO6jvHPo.js";import"./sweetalert2.all-BBb44_lw.js";const v={class:"modal-header p-3 bg-soft-warning"},D={class:"modal-title"},F={class:"p-2 mb-2 mt-2"},y={class:"table table-sm"},S=o("td",{width:"250px"},"SMU Number",-1),W=o("td",{width:"10px"},":",-1),A=o("td",null,"Weight SMU",-1),f=o("td",null,":",-1),L=o("td",null,"Total Weight SMU",-1),k=o("td",null,":",-1),B=o("td",null,"Total Weight All AWB",-1),j=o("td",null,":",-1),M=o("td",null,"Total Weight Actual All AWB",-1),C=o("td",null,":",-1),T=o("td",null,"Total Weight Dimention All AWB",-1),U=o("td",null,":",-1),P={key:0,class:"table table-sm table-bordered table-hover"},N=o("thead",{class:"table-light text-muted"},[o("tr",null,[o("th",{class:"text-center"},"#"),o("th",null,"AWB"),o("th",{class:"text-end"},"Weight AWB (kg)"),o("th",{class:"text-end"},"Weight Actual (kg)"),o("th",{class:"text-end"},"Weight Dim (kg)"),o("th",{class:"text-end"},"Percentage AWB"),o("th",{class:"text-end"},"Amount AWB")])],-1),q={class:"text-center"},z={class:"text-end"},E={class:"text-end"},I={class:"text-end"},O={class:"text-end"},Y={class:"text-end"},G=o("th",{class:"text-end",colspan:"2"},"Total",-1),H={class:"text-end"},J={class:"text-end"},K={class:"text-end"},Q=o("th",{class:"text-end"},"100",-1),R={class:"text-end"},V={key:1,class:"p-4"},X={class:"modal-footer"},Z=o("i",{class:"ri-close-line align-bottom me-1"},null,-1),$={__name:"SmuPreview",props:["show","item"],emits:["update:show","update:item"],setup($,{emit:tt}){const at=$,it=tt,lt=t(!1);let et=a({});return i(at,(async t=>{t.item?(lt.value=!0,et=await p.smuPreview(t.item?.code),lt.value=!1):(it("update:item",null),et=null)})),(t,a)=>{const i=w,p=_;return l(),e(x,{visible:$.show,"onUpdate:visible":a[2]||(a[2]=t=>$.show=t),size:"modal-lg"},{default:s((()=>[o("div",v,[o("h5",D,"Detail SMU - "+n($.item?.code),1),o("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:a[0]||(a[0]=t=>it("update:show",!1))})]),m(i,{show:lt.value,opacity:.25,"spinner-small":"",rounded:"sm"},{default:s((()=>[o("div",F,[o("table",y,[o("tr",null,[S,W,o("th",null,n($.item?$.item.code:""),1)]),o("tr",null,[A,f,o("th",null,n($.item?$.item.weight.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0),1)]),o("tr",null,[L,k,o("th",null,n(d(et).data?.total_weight_smu?d(et).data?.total_weight_smu.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"-"),1)]),o("tr",null,[B,j,o("th",null,n(d(et).data?.tot_weight_all_awb?d(et).data?.tot_weight_all_awb.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"-"),1)]),o("tr",null,[M,C,o("th",null,n(d(et).data?.tot_weight_actual_all_awb?d(et).data?.tot_weight_actual_all_awb.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"-"),1)]),o("tr",null,[T,U,o("th",null,n(d(et).data?.tot_weight_dim_all_awb?d(et).data?.tot_weight_dim_all_awb.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"-"),1)])])]),d(et)&&!d(et).err?(l(),r("table",P,[N,o("tbody",null,[d(et).data?.airwaybill?(l(!0),r(u,{key:0},c(d(et).data?.airwaybill.filter((t=>null!==t.awb)),((t,a)=>(l(),r("tr",{key:a},[o("td",q,n(a+1),1),o("td",null,n(t.awb),1),o("td",z,n(t.total_weight_awb),1),o("td",E,n(t.total_weight_actual),1),o("td",I,n(t.total_weight_dim),1),o("td",O,n((t.total_weight_awb/d(et).data.tot_weight_all_awb*100).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1),o("td",Y,n(($.item.amount*(t.total_weight_awb/d(et).data.tot_weight_all_awb)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),1)])))),128)):g("",!0)]),o("tfoot",null,[o("tr",null,[G,o("th",H,n(d(et).data?.airwaybill?d(b)(d(et).data.airwaybill,(t=>parseFloat(t.total_weight_awb))).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0),1),o("th",J,n(d(et).data?.airwaybill?d(b)(d(et).data.airwaybill,(t=>parseFloat(t.total_weight_actual))).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0),1),o("th",K,n(d(et).data?.airwaybill?d(b)(d(et).data.airwaybill,(t=>parseFloat(t.total_weight_dim))).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0),1),Q,o("th",R,n($.item?$.item.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):0),1)])])])):(l(),r("div",V,n(d(et)?.msg),1))])),_:1},8,["show"]),o("div",X,[m(p,{variant:"light",onClick:a[1]||(a[1]=t=>it("update:show",!1))},{default:s((()=>[Z,h(" Close ")])),_:1})])])),_:1},8,["visible"])}}};export{$ as default};

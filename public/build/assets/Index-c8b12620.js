import{T as t,Q as e,r as a,D as l,w as s,o as i,a as r,u as n,Z as o,b as d,i as c,e as u,m as p,d as m,H as v,I as _,c as b,G as f,t as x,F as h,M as g,ad as y,ao as k}from"./app-891c8d04.js";import{_ as w}from"./Main-292273c6.js";import{_ as j}from"./PageHeader-2bee4ef0.js";import{_ as C,a as z}from"./PerPage-e4d306f5.js";import{_ as $}from"./Timestamp-4502638c.js";import{_ as D}from"./Reload-2ac69993.js";import{_ as M}from"./Sort-81996e4f.js";import S from"./Approval-0acb5fc5.js";import{e as I,s as A}from"./service-187ac3fa.js";import"./logo-light-68509ea3.js";import"./sweetalert2.all-3ba2fbff.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./Footer-8715fbbc.js";import"./Modal-9511757c.js";import"./UserName-bf87c315.js";const U={class:"card"},V={class:"card-header border-0"},Y={class:"row g-4"},F={class:"col-sm-auto"},H=d("i",{class:"ri-add-line label-icon align-middle fs-16 me-2"},null,-1),L={class:"col-sm"},P={class:"d-flex justify-content-sm-end"},T={class:"card-body p-0 border-2 border-top border-bottom"},E=["placeholder"],G=d("i",{class:"ri-search-line search-icon"},null,-1),N={class:"card-body pb-0"},R={class:"table-responsive table-card mb-0"},q={class:"table table-hover table-nowrap table-sm align-middle mb-0"},J={class:"table-light text-muted"},B=d("th",{width:"60",rowspan:"2",class:"align-middle"},"#",-1),K=d("th",{class:"sort text-center align-middle",colspan:"2"},"Validation (before tax)",-1),O=d("th",{class:"text-center",colspan:"3"},"Status",-1),Q=d("th",{class:"text-center",colspan:"2"},"Date",-1),W=d("th",{width:"100",class:"text-center align-middle",rowspan:"2"},"Action",-1),X=d("th",{class:"text-center"},"Document",-1),Z=d("th",{class:"text-center"},"Checking",-1),tt=d("th",{class:"text-center"},"Approval",-1),et={class:"fw-medium"},at={class:"text-end"},lt={class:"text-primary fs-11 mb-0"},st=d("i",{class:"ri-wallet-line align-middle"},null,-1),it={class:"text-end text-success"},rt={class:"text-success fs-11 mb-0"},nt=d("i",{class:"ri-check-line align-middle"},null,-1),ot={class:"text-end"},dt={class:"text-danger fs-11 mb-0"},ct=d("i",{class:"ri-close-line align-middle"},null,-1),ut={class:"text-center"},pt={class:"text-center"},mt={class:"text-center"},vt={class:"text-center date"},_t={class:"text-center date"},bt={class:"list-inline gap-2 mb-0 text-center"},ft=["onClick"],xt=d("i",{class:"ri-pencil-fill fs-16"},null,-1),ht={key:0,class:"list-inline-item",title:"Remove"},gt=["onClick"],yt=[d("i",{class:"ri-delete-bin-5-fill fs-16"},null,-1)],kt={class:"card-footer p-0"},wt={__name:"Index",props:["collection","filters"],setup(wt){const jt=I().page,Ct=[{text:"Dashboard",to:route("dashboard")},{text:"Transaction"},{text:jt.title,active:!0}],zt=t({keyword:e().props.ziggy.query.keyword??null}),$t=a(null),Dt=a(!1),Mt=a(!1);return(t,e)=>{const a=g,I=y,St=k;return i(),l(w,null,{header:s((()=>[r(j,{title:n(jt).title,breadcrumbs:Ct},null,8,["title"])])),default:s((()=>[r(n(o),{title:n(jt).title},null,8,["title"]),d("div",U,[d("div",V,[d("div",Y,[d("div",F,[r(a,null,{default:s((()=>[r(n(c),{href:t.route(`${n(jt).module}.${n(jt).name}.create`),class:"btn btn-primary btn-label waves-effect waves-light"},{default:s((()=>[H,u(" Create ")])),_:1},8,["href"])])),_:1})]),d("div",L,[d("div",P,[r(a,null,{default:s((()=>[r(D,{page:n(jt)},null,8,["page"]),wt.collection.links.length>3?(i(),l(C,{key:0})):p("",!0)])),_:1})])])])]),d("div",T,[d("form",{onSubmit:e[1]||(e[1]=m((e=>n(zt).get(t.route(`${n(jt).module}.${n(jt).name}.index`))),["prevent"])),class:"search-box"},[v(d("input",{type:"search",class:"form-control search border-0 py-3",placeholder:`Search for ${n(jt).title} ...`,"onUpdate:modelValue":e[0]||(e[0]=t=>n(zt).keyword=t)},null,8,E),[[_,n(zt).keyword]]),G],32)]),d("div",N,[d("div",R,[d("table",q,[d("thead",J,[d("tr",null,[B,r(M,{label:"Invoice Number",attribute:"invoice_number",rowspan:"2",class:"align-middle"}),r(M,{label:"Vendor",attribute:"vendor_id",rowspan:"2",class:"align-middle"}),r(M,{label:"Total after tax",attribute:"total_amount",rowspan:"2",class:"text-center align-middle"}),K,O,Q,W]),d("tr",null,[r(M,{label:"Valid",attribute:"total_amount_valid",class:"text-center"}),r(M,{label:"Invalid",attribute:"total_amount_invalid",class:"text-center"}),X,Z,tt,r(M,{width:"110",label:"Invoice",attribute:"invoice_date",class:"text-center"}),r(M,{width:"140",label:"Created",attribute:"created_at",class:"text-center"})])]),d("tbody",null,[(i(!0),b(h,null,f(wt.collection.data,((e,a)=>(i(),b("tr",{key:e.id},[d("td",null,x((wt.collection.current_page-1)*wt.collection.per_page+a+1),1),d("td",et,x(e.invoice_number?e.invoice_number:"--"),1),d("td",null,x(e.vendor?`${e.vendor.code} - ${e.vendor.name}`:"--"),1),d("td",at,[d("h6",lt,[u(x(e.total_amount_after_tax.toLocaleString())+" ",1),st])]),d("td",it,[d("h6",rt,[u(x(e.total_amount_valid.toLocaleString())+" ",1),nt])]),d("td",ot,[d("h6",dt,[u(x(e.total_amount_invalid.toLocaleString())+" ",1),ct])]),d("td",ut,["draft"==e.document_status?(i(),l(I,{key:0,variant:"light",class:"rounded-pill text-capitalize"},{default:s((()=>[u(x(e.document_status),1)])),_:2},1024)):p("",!0),"published"==e.document_status?(i(),l(I,{key:1,variant:"primary",class:"rounded-pill text-capitalize"},{default:s((()=>[u(x(e.document_status),1)])),_:2},1024)):p("",!0),"cancelled"==e.document_status?(i(),l(I,{key:2,variant:"danger",class:"rounded-pill text-capitalize"},{default:s((()=>[u(x(e.document_status),1)])),_:2},1024)):p("",!0),"void"==e.document_status?(i(),l(I,{key:3,variant:"danger",class:"rounded-pill text-capitalize"},{default:s((()=>[u(x(e.document_status),1)])),_:2},1024)):p("",!0),"closed"==e.document_status?(i(),l(I,{key:4,variant:"success",class:"rounded-pill text-capitalize"},{default:s((()=>[u(x(e.document_status),1)])),_:2},1024)):p("",!0)]),d("td",pt,[e.items!=e.validated_items?(i(),l(St,{key:0,value:e.validated_items,max:e.items,height:"15px","show-progress":"",animated:""},null,8,["value","max"])):(i(),l(I,{key:1,variant:"success",class:"rounded-pill text-capitalize"},{default:s((()=>[u("done")])),_:1}))]),d("td",mt,["none"==e.approval_status?(i(),l(I,{key:0,variant:"light",class:"text-capitalize"},{default:s((()=>[u(x(e.approval_status),1)])),_:2},1024)):p("",!0),"pending"==e.approval_status?(i(),l(I,{key:1,variant:"soft-primary",class:"text-primary text-capitalize cursor-pointer",onClick:()=>{$t.value=e.id,Mt.value=!0}},{default:s((()=>[u(x(e.approval_status),1)])),_:2},1032,["onClick"])):p("",!0),"approved"==e.approval_status?(i(),l(I,{key:2,variant:"soft-success",class:"text-success text-capitalize cursor-pointer",onClick:()=>{$t.value=e.id,Mt.value=!0}},{default:s((()=>[u(x(e.approval_status),1)])),_:2},1032,["onClick"])):p("",!0),"rejected"==e.approval_status?(i(),l(I,{key:3,variant:"soft-danger",class:"text-danger text-capitalize cursor-pointer",onClick:()=>{$t.value=e.id,Mt.value=!0}},{default:s((()=>[u(x(e.approval_status),1)])),_:2},1032,["onClick"])):p("",!0)]),d("td",vt,x(t.$dayjs(e.invoice_date).format("DD MMM, YYYY")),1),d("td",_t,[r($,{data:e.created_at},null,8,["data"])]),d("td",null,[d("ul",bt,[d("li",{class:"list-inline-item edit",title:"Edit",onClick:()=>{$t.value=e.id,Dt.value=!0}},[r(n(c),{href:t.route(`${n(jt).module}.${n(jt).name}.edit`,e.id),class:"text-primary d-inline-block",title:"Edit"},{default:s((()=>[xt])),_:2},1032,["href"])],8,ft),"draft"==e.document_status?(i(),b("li",ht,[d("a",{href:"javascript:void(0);",class:"text-danger d-inline-block",onClick:t=>n(A).deleteData(e.id)},yt,8,gt)])):p("",!0)])])])))),128))])])])]),d("div",kt,[r(z,{data:wt.collection},null,8,["data"])])]),r(S,{show:Mt.value,"onUpdate:show":e[2]||(e[2]=t=>Mt.value=t),id:$t.value,"onUpdate:id":e[3]||(e[3]=t=>$t.value=t)},null,8,["show","id"])])),_:1})}}};export{wt as default};
